<div align="center">
<a href="" alt="logo" ><img src="https://github.com/Xuenew/PyTopicsApiExplore/logo/logo.jpg" width="120"/></a>
</div>
<h1 align="center">PyTopicsApiExplore(HOT API)</h1>

<div align="center">

[Englishå¾…å®Œæˆ](./README.en.md) | [ç®€ä½“ä¸­æ–‡](./README.md)

ğŸš€ã€ŒPyTopicsApiExploreã€æ˜¯ä¸€ä¸ªå¼€ç®±å³ç”¨çš„é«˜æ€§èƒ½å¼‚æ­¥[æŠ–éŸ³](https://www.douyin.com)|[Bilibili](https://www.bilibili.com)ç­‰çƒ­æ¦œæ•°æ®çˆ¬å–å·¥å…·ï¼Œæ”¯æŒAPIè°ƒç”¨ï¼Œå®šæ—¶å­˜å‚¨æ•°æ®åº“ã€‚


</div>

## ğŸ”Š æœ¬é¡¹ç›®è®¡åˆ’åœ¨V2.0.0ç‰ˆæœ¬è¿›è¡Œåœ¨çº¿å¤„ç†ä¼šå¼€å¯ä¸€ä¸ªæ–°çš„vueé¡¹ç›®ã€‚
æ„Ÿå…´è¶£çš„å¤šå¤šå…³æ³¨æœ¬é¡¹ç›®ï¼Œçº¯ç²¹æƒ³äº¤æœ‹å‹å’ŒæŠ€æœ¯äº¤æµã€‚

## ğŸ‘»ä»‹ç»

æœ¬é¡¹ç›®æ˜¯åŸºäº [Flask](https://github.com/pallets/flask)ï¼Œ[Mysql 8.0]()ï¼Œ[Redis 5.0]()ï¼Œçƒ­æ¦œæ•°æ®çˆ¬å–å·¥å…·ï¼Œå¹¶é€šè¿‡Webç«¯ï¼ˆV2.0ï¼‰å®ç°åœ¨çº¿RSSï¼Œçƒ­ç‚¹æ’åï¼Œçƒ­ç‚¹æ•°æ®çˆ¬å–APIã€‚ä½ å¯ä»¥è‡ªå·±éƒ¨ç½²æˆ–æ”¹é€ æœ¬é¡¹ç›®å®ç°æ›´å¤šåŠŸèƒ½ã€‚

*ä¸€äº›ç®€å•çš„è¿ç”¨åœºæ™¯ï¼š*

*å‡å°‘å„ä¸ªå¹³å°åœç•™çš„æ—¶é—´ï¼Œè¿›è¡Œæ•°æ®åˆ†æ é…åˆæœ¬é¡¹ç›®APIå®ç°è‡ªå»ºç­‰.....*


ğŸ›¸åŸºäºæœ¬é¡¹ç›®çš„å…¶ä»–ä»“åº“

- [å»ºè®¾ä¸­](https://github.com/Xuenew/PyTopicsApiExplore)


## âš—ï¸æŠ€æœ¯æ ˆ

* [manage.py](https://github.com/Xuenew/PyTopicsApiExplore/manage.py) - [Flask](https://github.com/pallets/flask)

> ***hot_api_crontab.sh:***

- éƒ¨ç½²ä¹‹åæœåŠ¡å™¨å®šæ—¶è·å–ä¿¡æ¯é€šè¿‡[config.py](https://github.com/Xuenew/PyTopicsApiExplore/config.py)å­˜å‚¨åˆ°æ•°æ®åº“ã€‚

> ***hot_reload.sh:***

- éƒ¨ç½²æœåŠ¡å å®šæ—¶çƒ­æ›´æ–°

> ***manage.py:***

- åˆ¶ä½œçš„ç®€æ˜“Webç¨‹åº
> ***API æ¥å£ä¾‹å­***
```http
http://127.0.0.1/board_new?board_type=2 
```

***ä»¥ä¸Šæ–‡ä»¶çš„å‚æ•°å¤§å¤šå¯åœ¨[config.py](https://github.com/Xuenew/PyTopicsApiExplore/config.py)ä¸­è¿›è¡Œä¿®æ”¹***

## ğŸ’¡é¡¹ç›®æ–‡ä»¶ç»“æ„

```
.   
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.md
â”œâ”€â”€ config.py
â”œâ”€â”€ config_bs.py
â”œâ”€â”€ crawls
â”‚  â”œâ”€â”€ back_you_want.py
â”‚  â”œâ”€â”€ baidu ï¼ˆä¼—å¤šç±»ä¼¼å¹³å°ï¼‰
â”‚  â”‚  â””â”€â”€ baidu.py
â”‚  â”œâ”€â”€ crawls_instructions_sample.py
â”œâ”€â”€ hot_api_crontab.sh
â”œâ”€â”€ hot_reload.sh
â”œâ”€â”€ hotapi_crontab.py
â”œâ”€â”€ logo
â”œâ”€â”€ manage.py
â”œâ”€â”€ requirment.txt
â”œâ”€â”€ tool.py
â”œâ”€â”€ utils
â”‚  â”œâ”€â”€ PyTopicsApiExploreInit.py
â”‚  â””â”€â”€ getWereadID.py
â””â”€â”€ uwsgi.ini

```

## âœ¨åŠŸèƒ½ï¼š

> ğŸŸ¢ çŠ¶æ€æ­£å¸¸
> ğŸŸ  å¯èƒ½å¤±æ•ˆ


| **ç«™ç‚¹** | **ç±»åˆ«** | **å¹³å°ID** | **è·¯å¾„åç§°**              | **çŠ¶æ€** |
|--------|--------|----------|-----------------------|-----|
| å“”å“©å“”å“©   | çƒ­é—¨æ¦œ    | 1        | bilibili.bilibili     | ğŸŸ¢  |
| å¾®åš     | çƒ­æœæ¦œ    | 2        | weibo.weibo           | ğŸŸ¢  |
| çŸ¥ä¹     | çƒ­æ¦œ     | 4        | zhihu.zhihu           | ğŸŸ¢  |
| ç™¾åº¦     | çƒ­æœæ¦œ    | 5        | baidu.baidu           | ğŸŸ¢  |
| æŠ–éŸ³     | çƒ­ç‚¹æ¦œ    | 6        | douyin.douyin_hot     | ğŸŸ¢  |
| æŠ–éŸ³     | çƒ­æ­Œæ¦œ    | 7        | douyin_music_hot      | ğŸŸ¢  |
| ç™¾åº¦è´´å§   | çƒ­è®®æ¦œ    | 8        | tieba.tieba           | ğŸŸ¢  |
| å°‘æ•°æ´¾    | çƒ­æ¦œ     | 3        | shaoshupai.shaoshupai | ğŸŸ¢  |
| æ¾æ¹ƒæ–°é—»   | çƒ­æ¦œ     | 9        | thepaper.thepaper     | ğŸŸ¢  |
| ä»Šæ—¥å¤´æ¡   | çƒ­æ¦œ     | 10       | toutiao               | ğŸŸ¢  |
| 36 æ°ª   | çƒ­æ¦œ     | 11       | kr36.kr36             | ğŸŸ¢  |
| ç¨€åœŸæ˜é‡‘   | çƒ­æ¦œ     | 12       | juejin.juejin         | ğŸŸ¢  |
| è…¾è®¯æ–°é—»   | çƒ­ç‚¹æ¦œ    | 13       | newsqq.newsqq         | ğŸŸ¢  |
| ç½‘æ˜“æ–°é—»   | çƒ­ç‚¹æ¦œ    | 14       | netease.netease       | ğŸŸ¢  |
| è‹±é›„è”ç›Ÿ   | æ›´æ–°å…¬å‘Š   | 15       | lol.lol               | ğŸŸ¢  |
| åŸç¥     | æœ€æ–°æ¶ˆæ¯   | 16       | genshin.genshin       | ğŸŸ¢  |
| å¾®ä¿¡è¯»ä¹¦   | é£™å‡æ¦œ    | 18       | weread.weread         | ğŸŸ¢  |
| å¿«æ‰‹     | çƒ­æ¦œ     | 19       | kuaishou.kuaishou     | ğŸŸ¢  |
| å†å²ä¸Šçš„ä»Šå¤© | æŒ‡å®šæ—¥æœŸ   | 20       | calendar.calendar     | ğŸŸ   |

---

## ğŸ¤¦â€å¾…åŠæ¸…å•ï¼š

> ğŸ’¡æ¬¢è¿æå‡ºå»ºè®®æˆ–ç›´æ¥æäº¤PRè‡³æ­¤ä»“åº“ ã¥ï¿£3ï¿£ï¼‰ã¥â•­â¤ï½

- [ ] å¯¹å…¶ä»–å¹³å°æ·»åŠ æ”¯æŒï¼Œå¦‚ï¼šæŠ–éŸ³æ˜æ˜Ÿæ¦œ

---

## ğŸ—ºï¸æ”¯æŒçš„æäº¤æ ¼å¼ï¼š

> ğŸ’¡æç¤ºï¼šåŒ…å«ä½†ä¸ä»…é™äºä»¥ä¸‹ä¾‹å­ï¼Œå¦‚æœé‡åˆ°çƒ­æ¦œè§£æå¤±è´¥è¯·å¼€å¯ä¸€ä¸ªæ–° [issue](https://github.com/Xuenew/PyTopicsApiExplore/issues)

- å“”å“©å“”å“©çƒ­æ¦œé“¾æ¥

```text
https://api.bilibili.com/x/web-interface/ranking/v2
```


## ğŸ›°ï¸APIæ–‡æ¡£

> ğŸ’¡æç¤ºï¼šä¹Ÿå¯ä»¥åœ¨manage.pyçš„ä»£ç æ³¨é‡Šä¸­æŸ¥çœ‹æ¥å£æ–‡æ¡£


***APIæ¼”ç¤ºï¼š***

- çƒ­æ¦œæ•°æ®(å®æ—¶è·å–ï¼ŒIDä»¥æ–‡æ¡£çš„ä¸ºå‡†)
```http request
http://127.0.0.1/board_new?board_type=2
```




## ğŸ’»éƒ¨ç½²(æ–¹å¼ä¸€ ubuntu20.04)

> ğŸ’¡æ³¨æ„ï¼špython3.8+ç‰ˆæœ¬ å‰æmysql8.0 å’Œrediséƒ½å·²ç»å®‰è£…å¥½äº†å“ˆ

-  å®‰è£…æœåŠ¡ä»¥åŠå»ºç«‹è·¯å¾„
```bash
mkdir -p /home/temp ;mkdir -p /data/log/temp/;cd /home/temp ;git init;git clone git@github.com:Xuenew/PyTopicsApiExplore.git
```
- å®‰è£…ç¯å¢ƒ (æ¨èç”¨pythonè™šæ‹Ÿç¯å¢ƒ) nodejs/uwsgi/nginx
```bash
apt install nodejs -y
apt install nginx -y
apt install python3.8-venv -y
python3 -m venv /home/temp/env_pytopicsapiexplore
pip install uwsgi
```
- å®‰è£…ä¾èµ–
```bash
/home/temp/env_pytopicsapiexplore/bin/pip install -r /home/temp/PyTopicsApiExplore/rerequirment.txt
```
- åˆå§‹åŒ–æ•°æ®åº“ æ¯æ¬¡çƒ­æ›´æ–°ä¹Ÿä¼šæ‰§è¡Œ
```bash
/home/temp/env_pytopicsapiexplore/bin/python /home/temp/PyTopicsApiExplore/utils/PyTopicsApiExploreInit.py
```
- éƒ¨ç½²å®šæ—¶ä»»åŠ¡
```bash
# çƒ­æ›´æ–°
*/5 * * * * /bin/bash /home/temp/PyTopicsApiExplore/hot_reload.sh 
# å®šæ—¶é‡‡é›†
*/10 * * * * /bin/bash /home/temp/PyTopicsApiExplore/hot_api_crontab.sh
```

> éƒ¨ç½²webæœåŠ¡(æ–¹å¼1 å…¬ç½‘) ï¼ˆuwsgi+nginxï¼‰
1) nginxé…ç½® 
```bash
cd /etc/nginx/conf.d;vim pytopicsapiexplore.conf
```
```
# é…ç½®å¦‚ä¸‹
server {
        # ç›‘å¬çš„ç«¯å£å·,æ”¹æˆä»€ä¹ˆå°±æ˜¯ç”¨ä»€ä¹ˆç«¯å£è®¿é—®æœåŠ¡å™¨ ï¼Œé»˜è®¤æ˜¯80
        listen 80;
        # åŸŸåæˆ–å…¬ç½‘ip ï¼ï¼ï¼æ³¨æ„è¿™é‡Œè¦æ”¹å“ˆ
        server_name your domain; 
        charset utf-8;
        # é™æ€æ–‡ä»¶è®¿é—®çš„urlï¼ˆæ­¤å¤„æ²¡æœ‰ï¼‰
        # å‘é€æ‰€æœ‰éé™æ€æ–‡ä»¶è¯·æ±‚åˆ°flaskæœåŠ¡å™¨
        location / {
        include uwsgi_params;
        uwsgi_connect_timeout 40;
        # éœ€è¦ä¸ä¹‹å‰uwsgié…ç½®ä¸€æ ·
        uwsgi_pass 127.0.0.1:5000;

        }
}
```
2) uwsgié…ç½®å’Œå¯åŠ¨ [uwsgié…ç½®](https://github.com/Xuenew/PyTopicsApiExplore/uwsgi.ini) 
```bash
/usr/local/bin/uwsgi --ini uwsgi.ini
```
3) nginx å¯åŠ¨
```bash
service nginx restart
```

- éƒ¨ç½²webæœåŠ¡(æ–¹å¼2 æœ¬åœ°) 
```angular2html
flask --app manage.py run -h0.0.0.0 -p5000
```



## â¤ï¸ è´¡çŒ®è€…

[![](https://github.com/otll.png?size=50)](https://github.com/otll)
[![](https://github.com/L-dongjianing.png?size=50)](https://github.com/L-dongjianing)

## å…è´£å£°æ˜

- æœ¬é¡¹ç›®æä¾›çš„ `API` ä»…ä¾›å¼€å‘è€…è¿›è¡ŒæŠ€æœ¯ç ”ç©¶å’Œå¼€å‘æµ‹è¯•ä½¿ç”¨ã€‚ä½¿ç”¨è¯¥ `API` è·å–çš„ä¿¡æ¯ä»…ä¾›å‚è€ƒï¼Œä¸ä»£è¡¨æœ¬é¡¹ç›®å¯¹ä¿¡æ¯çš„å‡†ç¡®æ€§ã€å¯é æ€§ã€åˆæ³•æ€§ã€å®Œæ•´æ€§ä½œå‡ºä»»ä½•æ‰¿è¯ºæˆ–ä¿è¯ã€‚æœ¬é¡¹ç›®ä¸å¯¹ä»»ä½•å› ä½¿ç”¨è¯¥ `API` è·å–ä¿¡æ¯è€Œå¯¼è‡´çš„ä»»ä½•ç›´æ¥æˆ–é—´æ¥æŸå¤±è´Ÿè´£ã€‚æœ¬é¡¹ç›®ä¿ç•™éšæ—¶æ›´æ”¹ `API` æ¥å£åœ°å€ã€æ¥å£åè®®ã€æ¥å£å‚æ•°åŠå…¶ä»–ç›¸å…³å†…å®¹çš„æƒåˆ©ã€‚æœ¬é¡¹ç›®å¯¹ä½¿ç”¨è€…ä½¿ç”¨ `API` çš„è¡Œä¸ºä¸æ‰¿æ‹…ä»»ä½•ç›´æ¥æˆ–é—´æ¥çš„æ³•å¾‹è´£ä»»
- æœ¬é¡¹ç›®å¹¶æœªä¸ç›¸å…³ä¿¡æ¯æä¾›æ–¹å»ºç«‹ä»»ä½•å…³è”æˆ–åˆä½œå…³ç³»ï¼Œè·å–çš„ä¿¡æ¯å‡æ¥è‡ªå…¬å¼€æ¸ é“ï¼Œå¦‚å› ä½¿ç”¨è¯¥ `API` è·å–ä¿¡æ¯è€Œäº§ç”Ÿçš„ä»»ä½•æ³•å¾‹è´£ä»»ï¼Œç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…
- æœ¬é¡¹ç›®å¯¹ä½¿ç”¨ `API` è·å–çš„ä¿¡æ¯è¿›è¡Œäº†æœ€å¤§é™åº¦çš„ç­›é€‰å’Œæ•´ç†ï¼Œä½†ä¸ä¿è¯ä¿¡æ¯çš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§ã€‚ä½¿ç”¨ `API` è·å–ä¿¡æ¯æ—¶ï¼Œè¯·åŠ¡å¿…è‡ªè¡Œæ ¸å®ä¿¡æ¯çš„çœŸå®æ€§å’Œå¯é æ€§ï¼Œè°¨æ…å¤„ç†ç›¸å…³äº‹é¡¹
- æœ¬é¡¹ç›®ä¿ç•™å¯¹ `API` çš„éšæ—¶æ›´æ”¹ã€åœç”¨ã€é™åˆ¶ä½¿ç”¨ç­‰æªæ–½çš„æƒåˆ©ã€‚ä»»ä½•å› ä½¿ç”¨æœ¬ `API` äº§ç”Ÿçš„æŸå¤±ï¼Œæœ¬é¡¹ç›®ä¸è´Ÿæ‹…ä»»ä½•èµ”å¿å’Œè´£ä»»


[MIT License](https://github.com/Xuenew/PyTopicsApiExplore/LICENSE)

> Start: 2023/11/10
> GitHub: [@Xuenew](https://github.com/Xuenew)
